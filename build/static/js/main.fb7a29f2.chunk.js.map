{"version":3,"sources":["components/Filter.js","components/AddPerson.js","services/personService.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","AddPerson","props","onSubmit","addPerson","newPerson","handlePersonChange","newNumber","handleNumberChange","type","baseUrl","axios","get","newObject","post","id","delete","put","Persons","persons","setPersons","setAddMessage","filter","person","name","toLowerCase","includes","map","i","key","number","onClick","window","confirm","personService","then","response","data","setTimeout","Notification","message","className","App","useState","useEffect","console","log","newName","setNewName","setNewNumber","setNewFilter","addMessage","event","target","preventDefault","personObject","length","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fb7a29f2.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst Filter = ({newFilter, handleFilterChange}) => {\r\n    return (\r\n        <form>\r\n          <div>\r\n              filter shown with: <input \r\n                value={newFilter}\r\n                onChange={handleFilterChange}\r\n              />\r\n          </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst AddPerson = (props) => {\r\n    return (\r\n        <form onSubmit={props.addPerson}>\r\n        <div>\r\n          name: <input \r\n          value={props.newPerson}\r\n          onChange={props.handlePersonChange}\r\n          />\r\n        </div>\r\n        <div>\r\n            number: <input \r\n            value={props.newNumber}\r\n            onChange={props.handleNumberChange}\r\n            />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default AddPerson","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst remove = id => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React from 'react'\r\nimport personService from '../services/personService'\r\n\r\nconst Persons = ({persons, setPersons, newFilter, setAddMessage}) => {\r\n    return (\r\n        <ul>\r\n          {persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase())).map((person, i) => \r\n          <p key = {person.name}>\r\n                {person.name} {person.number}\r\n                <button type='submit' onClick={() => \r\n                  {if(window.confirm(`Delete ${person.name}?`)) {\r\n                    personService.remove(person.id).then(response => {\r\n                      personService.getAll().then(response => {\r\n                      setPersons(response.data)\r\n                      })\r\n                    })\r\n                    setAddMessage(`Deleted ${person.name}`)\r\n                    setTimeout(() => {\r\n                        setAddMessage(null)\r\n                    }, 3000)\r\n                  }\r\n          }}>delete</button>\r\n          </p>\r\n            )}\r\n      </ul>\r\n    )\r\n}\r\n\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"add\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport AddPerson from './components/AddPerson'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/personService'\r\nimport Notification from './components/Notification'\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([])\r\n  useEffect(() => {\r\n    console.log('effect')\r\n    personService\r\n        .getAll()\r\n        .then(response => {\r\n            setPersons(response.data)\r\n        })\r\n  }, []) \r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newFilter, setNewFilter] = useState('')\r\n  const [addMessage, setAddMessage] = useState(null)\r\n\r\n  const addPerson = (event) => {\r\n      event.preventDefault()\r\n      const personObject = {\r\n          name: newName,\r\n          number: newNumber\r\n      }\r\n      if (persons.filter(person => person.name === newName).length > 0) {\r\n          if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n            personService\r\n                .update(persons.filter(person => person.name === newName)[0].id, personObject)\r\n                .then(response => {\r\n                    personService.getAll().then(response => {\r\n                        setPersons(response.data)\r\n                        })\r\n                    setNewName('')\r\n                    setNewNumber('')\r\n                    setAddMessage(`Changed number of ${personObject.name} to ${personObject.number}`)\r\n                    setTimeout(() => {\r\n                        setAddMessage(null)\r\n                    }, 3000)\r\n                })\r\n                .catch(error => {\r\n                    setAddMessage(`Information of ${personObject.name} has already been removed from server`)\r\n                    setTimeout(() => {\r\n                        setAddMessage(null)\r\n                    }, 3000)\r\n                })\r\n          }\r\n      }\r\n      else {\r\n        personService\r\n            .create(personObject)\r\n            .then(response => {\r\n                setPersons(persons.concat(response.data))\r\n                setNewName('')\r\n                setNewNumber('')\r\n                setAddMessage(`Added ${personObject.name}`)\r\n                setTimeout(() => {\r\n                    setAddMessage(null)\r\n                }, 3000)\r\n            })\r\n      }\r\n      \r\n  }\r\n\r\n  const handlePersonChange = (event) => {\r\n      setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n      setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n      setNewFilter(event.target.value)\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={addMessage} />\r\n          <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\r\n      <h2>add a new</h2>\r\n      <AddPerson addPerson={addPerson}\r\n        newName={newName}\r\n        handlePersonChange={handlePersonChange}\r\n        newNumber={newNumber} \r\n        handleNumberChange={handleNumberChange}\r\n        />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={persons} newFilter={newFilter} setPersons={setPersons} setAddMessage={setAddMessage} />\r\n      \r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n \nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}